{"version":3,"sources":["services/imagesApi.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","App.js","index.js"],"names":["currentPage","searchQuery","pageSize","axios","get","then","response","data","hits","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","onChange","autoComplete","autoFocus","placeholder","Component","ImageGallery","children","ImageGalleryItem","images","map","id","webformatURL","tags","largeImageURL","src","alt","Button","onClick","App","isLoading","error","onChangeQuery","getImages","options","imagesApi","prevState","catch","finally","scrollTo","window","top","document","documentElement","scrollHeight","behavior","prevProps","renderLoadButton","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.dc64b2c0.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst fetchImages = ({ currentPage = 1, searchQuery = \"\", pageSize = 12 }) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&per_page=${pageSize}&key=21244519-50cd1518df4ac35a1fd6e5fdb&image_type=photo&orientation=horizontal`\n    )\n    .then((response) => response.data.hits);\n};\n\nexport default { fetchImages };\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass Searchbar extends Component {\n  state = {\n    query: \"\",\n  };\n\n  handleChange = (e) => {\n    this.setState({ query: e.currentTarget.value });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.query);\n\n    this.setState({ query: \"\" });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            value={this.state.query}\n            onChange={this.handleChange}\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGallery = ({ children }) => (\n  <ul className=\"ImageGallery\">{children}</ul>\n);\n\nImageGallery.propTypes = {\n  children: PropTypes.object.isRequired,\n};\n\nexport default ImageGallery;\n","import PropTypes from \"prop-types\";\n\nconst ImageGalleryItem = ({ images }) =>\n  images.map(({ id, webformatURL, largeImageURL, tags }) => (\n    <li className=\"ImageGalleryItem\" key={id}>\n      <img src={webformatURL} alt={tags} className=\"ImageGalleryItem-image\" />\n    </li>\n  ));\nexport default ImageGalleryItem;\n","const Button = ({ onClick }) => {\n  return (\n    <button onClick={onClick} type=\"button\" className=\"Button\">\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n","import React, { Component } from \"react\";\n\nimport \"./styles.css\";\nimport imagesApi from \"../src/services/imagesApi\";\n\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport ImageGalleryItem from \"./components/ImageGalleryItem\";\nimport Button from \"./components/Button\";\n\nexport class App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: \"\",\n    isLoading: false,\n    error: null,\n    largeImageURL: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.getImages();\n    }\n\n    if (this.state.currentPage > 2) {\n      this.scrollTo();\n    }\n  }\n\n  onChangeQuery = (query) => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  getImages = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { currentPage, searchQuery };\n\n    this.setState({ isLoading: true });\n\n    imagesApi\n      .fetchImages(options)\n      .then((images) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  scrollTo = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  render() {\n    const { images, isLoading, error } = this.state;\n    const renderLoadButton = images.length > 0 && !isLoading;\n\n    return (\n      <div>\n        <Searchbar onSubmit={this.onChangeQuery} />\n\n        {error && <h2>Please try again you request</h2>}\n\n        <ImageGallery>\n          <ImageGalleryItem images={images} />\n        </ImageGallery>\n\n        {isLoading && <h2>Loading...</h2>}\n\n        {renderLoadButton && <Button onClick={this.getImages} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}